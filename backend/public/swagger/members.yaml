paths:
  /members:
    get:
      tags:
        - Members
      summary: Get a list of Members from the Entitlement Service.
      description: Returns a list of Members.
      operationId: getMembers
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/definitions/Member"
        "400":
          description: Invalid credentials supplied
        "404":
          description: Resource not found
        "405":
          description: Validation exception
    post:
      tags:
        - Members
      summary: Post a new Member to the Entitlement Service.
      description: Post a new Member with the associated Products and Entitlements.
      operationId: postMember
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/definitions/Member"
        "400":
          description: Invalid credentials supplied
        "404":
          description: Resource not found
        "405":
          description: Validation exception

  /members/{id}:
    get:
      tags:
        - Members
      summary: Finds a Member by ID
      description: Returns a Member's information based on the Member ID.
      operationId: findMemberById
      parameters:
        - name: id
          in: path
          description: Unique integer ID for the Member within the Entitlement Service.
          required: true
          schema:
            type: integer
            minimum: 0
      responses:
        "200":
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/definitions/MemberAll"
        "400":
          description: Invalid status value
        "404":
          description: Member not found
    put:
      tags:
        - Members
      summary: Updates a Member by ID
      description: Updates a Member's information based on the Member ID.
      operationId: updateMemberById
      parameters:
        - name: id
          in: path
          description: Unique integer ID for the Member within the Entitlement Service.
          required: true
          schema:
            type: integer
            minimum: 0
      responses:
        "200":
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/definitions/MemberAll"
        "400":
          description: Invalid status value
        "404":
          description: Member not found
    delete:
      tags:
        - Members
      summary: Delete a Member by ID
      description: Sets a Member to in active and sets the end date based on the Member ID.
      operationId: findMemberById
      parameters:
        - name: id
          in: path
          description: Unique integer ID for the Member within the Entitlement Service.
          required: true
          schema:
            type: integer
            minimum: 0
      responses:
        "200":
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/definitions/Member"
        "400":
          description: Invalid status value
        "404":
          description: Member not found
          
definitions:
  MemberAll:
    allOf:
      - $ref: '#/definitions/Member'
      - type: object
        properties:
          entitlements:
            description: An array of associated Entitlements.
            type: array
            items:
              $ref: "#/definitions/Entitlement"
          products:
            description: An array of associated Products.
            type: array
            items:
              $ref: "#/definitions/Product" 
  Member:
    type: object
    properties:
      id:
        type: integer
        format: int64
        description: Unique integer ID assigned to the Member.
        example: 10
      payment_id:
        type: string
        example: user_O3FvulwP4Ce2R9
        description: Unique identifier generated by the Payment Partner.
      payment_processor:
        type: string
        maximum: 32
        description: Friendly name of the payment processor where the Member made payments.
        example: Stripe
      payment_session_id:
        type: string
        maximum: 256
        description: Payment processor's session token for the user to be used to restart the payment session for updates.(If Applicable)
        example: googhydr-20&ref=pd_sl_13v1ksul7h_e409994345975&hvdev
      name:
        type: string
        maximum: 256
        minimum: 4
        description: Friendly name of the Member.
        example: Jon Smith
      unique_identifier:
        type: string
        format: uuid
        maximum: 40
        pattern: '[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}'
        example: 1ed55455-d561-52ea-a82c-22b83f7f1155
        description: Unique indentifier assigned to the Member by the Entitlement Service.
      is_active:
        type: boolean
        description: Is the Member active or in active with in the Entitlement Service.
      start_date:
        type: string
        format: date-time
        example: 2023-08-10
        description: The date the Member was added to the Entitlement Service.
        nullable: false
      end_date:
        type: string
        format: date-time
        example: 2024-08-10
        description: The date the Member was 'removed' from the Entitlement Service.
        nullable: true